(this["webpackJsonpweb-radio"]=this["webpackJsonpweb-radio"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n.n(a),s=n(13),c=n.n(s),i=(n(20),n.p+"static/media/trt_logo_small.d0be214e.png"),o=(n(21),n(22),n(23),n(0)),l=n(1),u=n(3),j=n(4),p=n(11),d=n.n(p),b=n.p+"static/media/play.405138f8.svg",h=n(2);function m(e){var t=e.onPlayerClick;return Object(h.jsx)("button",{className:"player__button",onClick:t,children:Object(h.jsx)("img",{src:b,alt:"play button"})})}var v=n.p+"static/media/pause.2490bb6e.svg";function O(e){var t=e.onPlayerClick;return Object(h.jsx)("button",{className:"player__button",onClick:t,children:Object(h.jsx)("img",{src:v,alt:"pause button"})})}var y=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handlePlayerClick=function(){a.state.playing?(a.setState({playing:!1}),d()("#stream-player")[0].pause()):(a.setState({playing:!0}),d()("#stream-player")[0].play())},a.state={playing:!1},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsx)(h.Fragment,{children:this.state.playing?Object(h.jsx)(O,{onPlayerClick:this.handlePlayerClick}):Object(h.jsx)(m,{onPlayerClick:this.handlePlayerClick})})}}]),n}(a.Component);var x=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={status:null,error:null,serverName:null,serverDescription:null,serverGenre:null},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch(this.props.streamurl+"/stream").then((function(t){e.setState({status:t.status}),console.log("stream",e.state)})),d.a.getJSON({url:this.props.streamurl+"/status-json.xsl",success:function(t,n,a){console.log(a),t.icestats.source&&e.setState({serverName:t.icestats.source.server_name,serverDescription:t.icestats.source.server_description,serverGenre:t.icestats.source.genre})},error:function(e){console.log("there was an error")}})}},{key:"render",value:function(){var e,t,n,a=this.state.status;return 200===a?(e=this.state.serverName,t=this.state.serverDescription,n=this.state.serverGenre,Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("audio",{controls:!0,id:"stream-player",children:Object(h.jsx)("source",{src:"https://theravetheory.evan-savage.com:8000/stream",type:"audio/mpeg"})}),Object(h.jsx)("div",{className:"scroll-left",children:Object(h.jsxs)("p",{children:["Now playing: ",e," - ",t," [",n,"]"]})}),Object(h.jsx)("div",{className:"player-controls",children:Object(h.jsx)(y,{isplaying:!1})})]})):404===a?Object(h.jsx)("div",{className:"scroll-left",children:Object(h.jsx)("p",{children:"The stream is not currently available"})}):Object(h.jsx)("div",{className:"scroll-left",children:Object(h.jsx)("p",{children:" Loading... "})})}}]),n}(a.Component),f=n(8),g=n(15),C=n.n(g),k=(r.a.Component,function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=new f.Scene,t=new f.PerspectiveCamera(40,1),n=new f.WebGLRenderer({antialias:!0,alpha:!0});n.setSize(90,90),this.mount.appendChild(n.domElement);var a=new f.BoxGeometry(10,9,10),r=new f.MeshBasicMaterial,s=new f.Mesh(a,r);(new f.TextureLoader).load(this.props.imagetexture,(function(e){s.material.map=e,s.material.needsUpdate=!0,s.scale.set(1,e.image.height/e.image.width,1)}),(function(e){console.log(e.loaded/e.total*100+"% loaded")}),(function(e){console.log("An error happened"+e)})),e.add(s),t.position.z=20,t.position.y=2;!function a(){requestAnimationFrame(a),s.rotation.y+=.01,n.render(e,t)}()}},{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{className:"three-cube",ref:function(t){e.mount=t}})}}]),n}(a.Component)),w=(n(36),n(41),n(9)),N=n.p+"static/media/VC.3da47717.gltf",P=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsxs)(w.Scene,{children:[Object(h.jsx)(w.Entity,{geometry:{primitive:"box"},material:{color:"red"},position:{x:0,y:0,z:-5}}),Object(h.jsx)(w.Entity,{"particle-system":{preset:"snow"}}),Object(h.jsx)(w.Entity,{light:{type:"point"}}),Object(h.jsx)(w.Entity,{"gltf-model":{src:N}}),Object(h.jsx)(w.Entity,{text:{value:"Hello, WebVR!"}})]})}}]),n}(r.a.Component);var S=function(){return Object(h.jsxs)("div",{className:"app-wrapper",children:[Object(h.jsx)(P,{}),Object(h.jsx)("div",{className:"nav-wrapper",children:Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)("div",{className:"icon-container",children:Object(h.jsx)(k,{imagetexture:i})}),Object(h.jsx)(x,{streamurl:"https://theravetheory.evan-savage.com:8000"})]})}),Object(h.jsx)("div",{children:Object(h.jsx)("header",{className:"App-header"})})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(S,{})}),document.getElementById("root")),_()}},[[43,1,2]]]);
//# sourceMappingURL=main.e51a88c9.chunk.js.map