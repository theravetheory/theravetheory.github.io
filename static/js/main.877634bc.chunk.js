(this["webpackJsonpweb-radio"]=this["webpackJsonpweb-radio"]||[]).push([[0],{39:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n.n(r),s=n(26),c=n.n(s),i=(n(39),n(12)),o=n(2),l=n.n(o),u=n(7),j=n.p+"static/media/trt_logo.fa883c72.png",d=(n(41),n(42),n(43),n(0)),p=n(1),h=n(4),m=n(5),b=n(16),v=n.n(b),O=n.p+"static/media/play.405138f8.svg",f=n(3);function g(e){var t=e.onPlayerClick;return Object(f.jsx)("button",{className:"player__button",onClick:t,children:Object(f.jsx)("img",{src:O,alt:"play button"})})}var x=n.p+"static/media/pause.2490bb6e.svg";function y(e){var t=e.onPlayerClick;return Object(f.jsx)("button",{className:"player__button",onClick:t,children:Object(f.jsx)("img",{src:x,alt:"pause button"})})}var w=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).handlePlayerClick=function(){r.state.playing?(r.setState({playing:!1}),v()("#stream-player")[0].pause()):(r.setState({playing:!0}),v()("#stream-player")[0].play())},r.state={playing:!1},r}return Object(p.a)(n,[{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:this.state.playing?Object(f.jsx)(y,{onPlayerClick:this.handlePlayerClick}):Object(f.jsx)(g,{onPlayerClick:this.handlePlayerClick})})}}]),n}(r.Component);var C=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={status:null,error:null,serverName:null,serverDescription:null,serverGenre:null},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch(this.props.streamurl+"/stream").then((function(t){e.setState({status:t.status}),console.log("stream",e.state)})),v.a.getJSON({url:this.props.streamurl+"/status-json.xsl",success:function(t,n,r){console.log(r),t.icestats.source&&e.setState({serverName:t.icestats.source.server_name,serverDescription:t.icestats.source.server_description,serverGenre:t.icestats.source.genre})},error:function(e){console.log("there was an error")}})}},{key:"render",value:function(){var e,t,n,r=this.state.status;return 200===r?(e=this.state.serverName,t=this.state.serverDescription,n=this.state.serverGenre,Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("audio",{controls:!0,id:"stream-player",children:Object(f.jsx)("source",{src:"https://theravetheory.evan-savage.com:8000/stream",type:"audio/mpeg"})}),Object(f.jsx)("div",{className:"scroll-left",children:Object(f.jsxs)("p",{children:["Now playing: ",e," - ",t," [",n,"]"]})}),Object(f.jsx)("div",{className:"player-controls",children:Object(f.jsx)(w,{isplaying:!1})})]})):404===r?Object(f.jsx)("div",{className:"scroll-left",children:Object(f.jsxs)("p",{children:["Donate to ",Object(f.jsx)("a",{href:"mailto:theravetheory0@gmail.com",children:"theravetheory"})]})}):Object(f.jsx)("div",{className:"scroll-left",children:Object(f.jsx)("p",{children:" Loading... "})})}}]),n}(r.Component),N=n(14),k=n(32),S=n.n(k),P=(a.a.Component,function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=new N.Scene,t=new N.PerspectiveCamera(40,1),n=new N.WebGLRenderer({antialias:!0,alpha:!0});n.setSize(90,90),this.mount.appendChild(n.domElement);var r=new N.BoxGeometry(10,9,10),a=new N.MeshBasicMaterial,s=new N.Mesh(r,a);(new N.TextureLoader).load(this.props.imagetexture,(function(e){s.material.map=e,s.material.needsUpdate=!0,s.scale.set(1,e.image.height/e.image.width,1)}),(function(e){console.log(e.loaded/e.total*100+"% loaded")}),(function(e){console.log("An error happened"+e)})),e.add(s),t.position.z=20,t.position.y=2;!function r(){requestAnimationFrame(r),s.rotation.y+=.01,n.render(e,t)}()}},{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{className:"three-cube",ref:function(t){e.mount=t}})}}]),n}(r.Component)),U=(n(55),n(59),n(17)),L=n.p+"static/media/VC.3da47717.gltf",D=(a.a.Component,n(27)),F=new D.a({id:"theravetheoryradio-rducr"});function _(e){var t=e.user,n=e.username,r=e.setUser,a=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.currentUser.logOut();case 2:r(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"login-wrapper",children:[Object(f.jsxs)("h1",{children:["Logged in with anonymous id: ",Object(f.jsx)("span",{children:t.id})," and username ",Object(f.jsx)("span",{children:n})]}),Object(f.jsx)("button",{onClick:a,children:"Log Out"})]})}function M(e){var t=e.setUser,n=e.setUserName,r=function(){var e=Object(u.a)(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(v()("#login-name input").val()),n(v()("#login-name input").val()),e.next=4,F.logIn(D.b.anonymous());case 4:r=e.sent,t(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"login-wrapper",children:[Object(f.jsxs)("label",{id:"login-name",children:[" Name: ",Object(f.jsx)("input",{type:"text"})]}),Object(f.jsx)("button",{onClick:r,children:"Log In"})]})}var G=function(){var e=a.a.useState(F.currentUser),t=Object(i.a)(e,2),n=t[0],r=t[1],s=a.a.useState(),c=Object(i.a)(s,2),o=c[0],l=c[1];return Object(f.jsxs)("div",{className:"app-wrapper",children:[Object(f.jsx)("div",{className:"nav-wrapper",children:Object(f.jsxs)("nav",{className:"navbar",children:[Object(f.jsx)("div",{className:"icon-container",children:Object(f.jsx)(P,{imagetexture:j})}),Object(f.jsx)(C,{streamurl:"https://theravetheory.evan-savage.com:8000"})]})}),Object(f.jsx)("div",{children:Object(f.jsx)("header",{className:"App-header",children:n?Object(f.jsx)(_,{user:n,username:o,setUser:r}):Object(f.jsx)(M,{setUser:r,setUserName:l})})})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(G,{})}),document.getElementById("root")),B()}},[[66,1,2]]]);
//# sourceMappingURL=main.877634bc.chunk.js.map